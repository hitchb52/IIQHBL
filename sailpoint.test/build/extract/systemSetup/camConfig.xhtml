<!DOCTYPE html PUBLIC
                "-//W3C//DTD XHTML 1.0 Transitional//EN"
                "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- (c) Copyright 2008 SailPoint Technologies, Inc., All Rights Reserved. -->

<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:sp="http://sailpoint.com/ui">

<body>

<ui:composition template="/appPage.xhtml">
  <ui:define name="title">#{msgs.ui_cam_config_title}</ui:define>

  <ui:define name="body">
    <h:messages id="messages" infoClass="formInfo" warnClass="formWarn" errorClass="formError" fatalClass="formError"/>
    <h:form id="camConfigForm" styleClass="form" enctype="multipart/form-data" >
    <div class="spContent"> 
      <div class="spContentTitle">
        <h:outputText value="#{msgs.ui_cam_config_connection_title}"/>
      </div>

      <p>
        <h:panelGrid columns="3" styleClass="spPaddedTable nowidth">
          <h:panelGroup>
            <h:outputText value="#{msgs.ui_cam_config_hostname}"/>
            <h:outputText styleClass="requiredText" value="*"/>
          </h:panelGroup>
          <h:graphicImage id="imgHelpHostName" width="12px" title="#{help.help_cam_config_hostname}" height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px" url="/images/icons/dashboard_help_16.png" />
          <h:inputText id="hostname" size="40" value='#{camConfigBean.hostname}' requiredMessage="#{msgs.ui_cam_config_hostname_required}" required="true"/>
          <h:panelGroup>
            <h:outputText value="#{msgs.ui_cam_config_oauth_hostname}"/>
            <h:outputText styleClass="requiredText" value="*"/>
          </h:panelGroup>
          <h:graphicImage id="imgHelpOauthHostName" width="12px" title="#{help.help_cam_config_oauth_hostname}" height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px" url="/images/icons/dashboard_help_16.png" />
          <h:inputText id="oauthHostname" size="40" value='#{camConfigBean.oauthHostname}' requiredMessage="#{msgs.ui_cam_config_oauth_hostname_required}" required="true"/>
          <h:panelGroup>
            <h:outputText value="#{msgs.iai_config_client_id}"/>
            <h:outputText styleClass="requiredText" value="*"/>
          </h:panelGroup>
          <h:graphicImage id="imgHelpClientId" width="12px" title="#{help.help_cam_client_id}" height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px" url="/images/icons/dashboard_help_16.png" />
          <h:inputText id="client_id" size="40" value='#{camConfigBean.clientId}' requiredMessage="#{msgs.ui_cam_config_client_id_required}" required="true"/>
          <h:panelGroup>
            <h:outputText value="#{msgs.iai_config_client_secret}"/>
            <h:outputText styleClass="requiredText" value="*"/>
          </h:panelGroup>
          <h:graphicImage id="imgHelpClientSecret" width="12px" title="#{help.help_cam_client_secret}" height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px" url="/images/icons/dashboard_help_16.png" />
          <h:inputSecret id="client_secret" size="40" value='#{camConfigBean.clientSecret}' requiredMessage="#{msgs.ui_cam_config_client_secret_required}" redisplay="true" required="true" autocomplete="off"/>
        </h:panelGrid>
      </p>

      <div class="spContentTitle">
        <h:outputText value="#{msgs.ui_cam_config_advanced_title}"/>
      </div>
      <p>
        <h:panelGrid columns="3" styleClass="spPaddedTable nowidth">
          <h:outputText value="#{msgs.ui_cam_config_read_timeout}"/>
          <h:inputText id="readTimeoutSeconds" size="5" value='#{camConfigBean.readTimeoutSeconds}'  required="false"/>
          <h:outputText value="#{msgs.seconds}"/>
          <h:outputText value="#{msgs.ui_cam_config_connect_timeout}"/>
          <h:inputText id="connectTimeoutSeconds" size="5" value='#{camConfigBean.connectTimeoutSeconds}' required="false"/>
          <h:outputText value="#{msgs.seconds}"/>
        </h:panelGrid>
        <h:panelGrid columns="3" styleClass="spPaddedTable nowidth">
          <h:commandButton styleClass="secondaryBtn" value="#{msgs.button_test_connection}" action="#{camConfigBean.testAction}"/>
        </h:panelGrid>
      </p>

      <div class="spContentTitle">
        <h:outputText value="#{msgs.ui_cam_config_event_properties_title}"/>
      </div>
      <p>
        <h:panelGrid columns="3" styleClass="spPaddedTable nowidth">
          <h:commandButton styleClass="secondaryBtn" value="#{msgs.button_event_initiate}" action="#{camConfigBean.startInitialization}"/>
          <h:graphicImage id="imgHelpInitEvents" width="12px" title="#{help.help_cam_config_initiate_events}" height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px" url="/images/icons/dashboard_help_16.png" />
          <h:outputText value="#{camConfigBean.initializationStatus}" styleClass="font10" rendered="#{not camConfigBean.initialized}"/>
          <h:outputText value="#{camConfigBean.initializationStatus}" style="#{camConfigBean.initializationError ? 'color:red' : 'color:green'}" rendered="#{camConfigBean.initialized}"/>
        </h:panelGrid>
      </p>

      <div class="buttonRow">
        <h:commandButton styleClass="primaryBtn" value="#{msgs.button_save}" action="#{camConfigBean.saveAction}"/>
        <h:commandButton styleClass="secondaryBtn" value="#{msgs.button_return_to_system_setup}" action="#{camConfigBean.cancelAction}" immediate="true"/>
      </div>
    </div>
    </h:form>
  </ui:define>
</ui:composition>

</body>
</html>
